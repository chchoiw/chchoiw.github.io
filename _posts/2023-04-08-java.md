---
title: '04747'
date: 2023-04-08
permalink: /posts/2023/04/java
tags:
  - java
category:
  - Computer scince 
---


# Java

## 第五章 數組和字符串

```java
String s1="a";
String s2="a";
s1.equal(s2); // true
s1==s2; //true
String s3=new String("a");
s1==s3; // false
s1.equal(s3); //true
```

## 繼承與多態

```java
BankAccount a=new BankAccount("a",123);
BankAccount b=new BankAccount("a",123);
a==b; //false
a.equal(b); //false
BankAccount c=a;
c==b; //true
c.equal(b); //true
```

```
class A extends B
{
super(s); // 調用B的構造函數
}
```


## 多態

```java
superClass a=new superClass();
subClass b=new subClass();
superClass c=new subClass();

c.method(); // 調用子類
```

- ```final```是終態, 不能有子類,也不能改變
- final 變量也會被繼續到子類

```java
final public class FinalClass
{

}
```

```java
abstract class E
{
    void put(char c);
    char get();// 不定義方法體 
}
```
- 不能直接由接口來創建對象,而必須通過由實現接口的類來創建

```
public interface I
{

}
```

## 第七章 輸入和輸出流

- InputStream , OutputStream 是抽象類

```java
try
{

}
catch(FileNotFoundException e)
{

}
catch(EOFException e)
{

}
catch(IOException e)
{

}
```

```java
// ObjectOutputStream ObjectInputStream
import java.io.* 
File OutputStream f=new FileOutputStream("datee.ser");
ObjectOutputStream s=new ObjectOutputStream(f);
s.writeObject(d);
s.close();


File OutputStream f=new FileOutputStream("datee.ser");
ObjectInputStream s=new ObjectInputStream(f);
d=(Date) s.readObject(d);
s.close();
```
-  能夠記錄自己的狀態以便將來得到復原能力, 稱為對象的永久性
-  把對象變字節序列的過程稱為對象的序列化
-  把字節序列恢復為對象的過對稱反序列化
-  變量是另一對象的引用, 則引用的對象也要序列化, 過程是遞歸

```java
import java.io.*
public class A implements Serializable
{

}
```

- ```transient```標明的成員變量是不會被保存


### 基本字節流

- Reader, Writer是抽象類
- InputStream, OutputStream, 參數是字符或字符數組
- BufferedWriter使用flush(),強制清空緩沖區中的剩內容, 防止漏洞

```java
FileInputStream f=new FileInputStream("datee.ser");
InputStreamReader s=new InputStreamReader(f);
BufferedReader reader =new BufferedReader(s);
while(a=reader.readLine()!=null)
{
System.out.PrintIn(a);
}
s.closed
```

```java
BufferedReader reader =new BufferedReader(new FileReader("aa.txt"));
while(a=reader.readLine()!=null)
{
System.out.PrintIn(a);
}
s.closed
```
## 圖形界面設計

- AWT重型, Swing輕型

```java


JFrame frame=new JFrame("demo");

// the first method
Container contentPane=frame.getContentLane();
contentPande.add(button,BorderLayout.CENTER);

// the second method
JPanel contentPane=new JPanel();
contentPande.add(button,BorderLayout.CENTER);
frame.setContentPane(contentPane);

frame.pack();
frame.setvisible(true);
```



```
java.awt
setLayout(new FlowLayout(Flow.Left,20,40))
// FlowLayout.Left, Right, Center 
// FlowLayout(int align, int hgap, int vgap);

BorderLayout(int hgap, int vgpap)
// NORTH, SOUTH,EAST, WEST, CENTER
frame getContentPane).add(new JButton("A"),BorderLayout.South)

contentPane.setLayout(new GridLayout(2,3))
new GridLayout(int rows, int cols,int hgap, int vgap)
// rows cols=0 根據實際情況

java.awt
CardLayout(int hgap, int vgap);
myCard=new CardLayout();
contentPane.setLayout(myCard);
myCard.show(contentPane,"First");

java.swing
//BoxLayout.X_AXIS, BoxLayout.Y_AXIS
//BoxLayout(Container target , int axis)
pv=new JPanel();
pv.setLayout(new BoxLayout(pv,BoxLayout.Y_AXIS))

Box.createHorizationalGlue()
Box.createHorizationStrut(20);
Box.createRigidArea(new Dimension(50,90));

contentPane.setLayout(null);
b1=new JButton("m0");
b1.setBounds(30,60,70.20);
setBounds(int x, int y, int width, int height)

```
### 事件處理

```java
b1=new JButton("m0");
b.addActionListener(new ButtonHandler());
public class ButtonHandler implements ActionLister
{
    public void actionPerformed(ActionEvent e)
    {
    
    }
}


frame.addMouseMotionListener(this);
frame.addMouseListener(this);
// MouseMotionListener
void mouseDragged(MouseEvent e)
void mouseMoved(MouseEvent e)

// MouseListener
void mouseClicked(MouseEvent e)
void mouseEntered(MouseEvent e)
void mouseExited(MouseEvent e)
void mousePressed(MouseEvent e)
void mouseReleased(MouseEvent e)
```

```java
ActionListener, actionPerformed(ActionEvent e)
TextListener, textValueChanged(TextEvent e)

```
### 圖形

```
drawArc(int x, int y, int startAngle , int arcAngle)
drawRect(int x, int y , int width ,int height)
fillArc(int x, int y, int startAngle , int arcAngle)
fillPolygon(int []xs , int[]ys,int nPoint)
fillRect(int x, int y , int width ,int height)

panel.repaint();
```